{
  "hash": "e373605bf4d405a5f857c76a1edfff47",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Inter rater reliability\"\ndate: last-modified\nformat: \n  html: default\n  pdf: default\neditor: visual\nexecute: \n  message: false\n  eval: true\nbibliography: references.bib\ntoc: true\n---\n\n\n\n## Short version\n\nAgreement is acceptable for all but atrophy. See calculations in the\nend.\n\nMy suggestion will be to re-plan. Instead of retraining, I will assign\ntwo assessors to each subject. On disagreement, consensus will be\nsought.\n\nWith 8 assessors helping out, each will get to perform a mean of \\~250\nassessments\n\n| *Pros*                                                 | *Cons*                                |\n|--------------------------------------------------------|---------------------------------------|\n| Increased accuracy                                     | Increased workload                    |\n| Improved data quality                                  | Possibly increased time use           |\n| Improved chance of using the data for further projects | Decreased chance of finishing on time |\n\n: **Alternative**: exclude atrophy as a biomarker. The HARNESS\ninitiative as well as the FINESSE framework recommends exactly WMH,\nlacunes, microbleeds and atrophy as biomarkers.[@smith2019; @markus2022]\n\n## Litterature\n\n@staals2014 reports Intraclass Correlation Coefficient of 0.68-0.92\ndepending on the biomarker. They use different aids to maximise the\nlikelihood of agreement (reference pictures etc.).\n\nDepending on sources, Fleiss-Kappa or Intraclass Correlation Coefficient\n(ICC) are argued as the best meassure. @hallgren2012 recommends using\nthe ICC with multiple assessors and when scores are ordinal. Multiple\nperformance measures are included.\n\nHere are a few discussions on the topic:\n\n-   [researchgate](https://www.researchgate.net/post/Calculating-a-weighted-kappa-for-multiple-raters)\n\n-   [cookbook-for-r](http://www.cookbook-r.com/Statistical_analysis/Inter-rater_reliability/)\n\n    ## Data\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\\begin{longtable}{lr}\n\\toprule\nsvd\\_user & n \\\\ \n\\midrule\\addlinespace[2.5pt]\nABF & 52 \\\\ \nAGD & 52 \\\\ \nAMG & 1 \\\\ \nGA & 18 \\\\ \nJKM & 52 \\\\ \nKMØ & 52 \\\\ \nMFH & 52 \\\\ \nNLP & 52 \\\\ \nRAB & 52 \\\\ \nSBV & 52 \\\\ \n\\bottomrule\n\\end{longtable}\n\n:::\n:::\n\n\n\n### Inter-rater-inagreement examples\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\\begin{longtable}{llrrrrrrrrr}\n\\toprule\nrecord\\_id & svd\\_user & svd\\_quality & svd\\_microbleed & svd\\_microbleed\\_location\\_\\_\\_1 & svd\\_microbleed\\_location\\_\\_\\_2 & svd\\_microbleed\\_location\\_\\_\\_3 & svd\\_siderose & svd\\_lacunes & svd\\_wmh & svd\\_atrophy \\\\ \n\\midrule\\addlinespace[2.5pt]\nsvd\\_3 & AGD & 2 & 1 & 0 & 1 & 0 & 0 & 1 & 2 & 1 \\\\ \nsvd\\_3 & SBV & 2 & 0 & 0 & 0 & 0 & 0 & 2 & 2 & 1 \\\\ \nsvd\\_3 & NLP & 1 & 2 & 0 & 1 & 0 & 0 & 3 & 2 & 0 \\\\ \nsvd\\_3 & JKM & 2 & 1 & 0 & 1 & 0 & 0 & 3 & 2 & 0 \\\\ \nsvd\\_3 & KMØ & 2 & 3 & 0 & 1 & 0 & 0 & 3 & 2 & 0 \\\\ \nsvd\\_3 & RAB & 1 & 2 & 0 & 1 & 0 & 0 & 3 & 2 & 0 \\\\ \nsvd\\_3 & MFH & 1 & 1 & 0 & 1 & 0 & 0 & 1 & 2 & 1 \\\\ \nsvd\\_3 & ABF & 2 & 2 & 0 & 1 & 0 & 0 & 1 & 3 & 1 \\\\ \n\\bottomrule\n\\end{longtable}\n\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\\begin{longtable}{llrrrrr}\n\\toprule\nrecord\\_id & svd\\_user & microbleed & lacunes & wmh & atrophy & score \\\\ \n\\midrule\\addlinespace[2.5pt]\nsvd\\_3 & AGD & 1 & 1 & 1 & 0 & 3 \\\\ \nsvd\\_3 & SBV & 0 & 1 & 1 & 0 & 2 \\\\ \nsvd\\_3 & NLP & 1 & 1 & 1 & 0 & 3 \\\\ \nsvd\\_3 & JKM & 1 & 1 & 1 & 0 & 3 \\\\ \nsvd\\_3 & KMØ & 1 & 1 & 1 & 0 & 3 \\\\ \nsvd\\_3 & RAB & 1 & 1 & 1 & 0 & 3 \\\\ \nsvd\\_3 & MFH & 1 & 1 & 1 & 0 & 3 \\\\ \nsvd\\_3 & ABF & 1 & 1 & 1 & 0 & 3 \\\\ \n\\bottomrule\n\\end{longtable}\n\n:::\n:::\n\n\n\n## Calculations\n\nOverall reliability measures on all variables\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using an external vector in selections was deprecated in tidyselect 1.1.0.\ni Please use `all_of()` or `any_of()` instead.\n  # Was:\n  data %>% select(.x)\n\n  # Now:\n  data %>% select(all_of(.x))\n\nSee <https://tidyselect.r-lib.org/reference/faq-external-vector.html>.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nJoining with `by = join_by(Variable)`\n```\n\n\n:::\n\n::: {.cell-output-display}\n\\begin{longtable}{lrrrrr}\n\\toprule\nVariable & Agreement & Krippendorffs\\_Alpha & Fleiss\\_Kappa & Brennan\\_Predigers\\_Kappa & IntraclCorrCoef \\\\ \n\\midrule\\addlinespace[2.5pt]\nsvd\\_quality & 0.7884615 & 0.3909154 & 0.389447748 & 0.7867959 & 3.971007e-01 \\\\ \nsvd\\_microbleed & 0.6923077 & 0.5344182 & 0.533296331 & 0.6923038 & 8.384529e-01 \\\\ \nsvd\\_microbleed\\_location\\_\\_\\_1 & 0.7884615 & 0.6058272 & 0.604877423 & 0.7867959 & 6.102045e-01 \\\\ \nsvd\\_microbleed\\_location\\_\\_\\_2 & 0.8269231 & 0.5509859 & 0.549903896 & 0.8255603 & 5.551565e-01 \\\\ \nsvd\\_microbleed\\_location\\_\\_\\_3 & 0.9230769 & 0.4543851 & 0.453070386 & 0.9224712 & 4.581498e-01 \\\\ \nsvd\\_siderose & 0.9795918 & 0.0000000 & -0.002557545 & 0.9794311 & -1.275022e-15 \\\\ \nsvd\\_lacunes & 0.4375000 & 0.4987262 & 0.497417440 & 0.4374928 & 7.205385e-01 \\\\ \nsvd\\_wmh & 0.1730769 & 0.5336626 & 0.532538933 & 0.1730264 & 7.904484e-01 \\\\ \nsvd\\_atrophy & 0.1960784 & 0.2637533 & 0.261944363 & 0.1960294 & 4.579298e-01 \\\\ \n\\bottomrule\n\\end{longtable}\n\n:::\n:::\n\n\n\nReliability on simplified 0-4 scale.\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nJoining with `by = join_by(Variable)`\n```\n\n\n:::\n\n::: {.cell-output-display}\n\\begin{longtable}{lrrrrr}\n\\toprule\nVariable & Agreement & Krippendorffs\\_Alpha & Fleiss\\_Kappa & Brennan\\_Predigers\\_Kappa & IntraclCorrCoef \\\\ \n\\midrule\\addlinespace[2.5pt]\nmicrobleed & 0.7307692 & 0.6595911 & 0.6587709 & 0.7286493 & 0.6635782 \\\\ \nlacunes & 0.6041667 & 0.7007082 & 0.6999267 & 0.6010499 & 0.7050209 \\\\ \nwmh & 0.6538462 & 0.7193592 & 0.7186830 & 0.6511205 & 0.7231512 \\\\ \natrophy & 0.7058824 & 0.3095880 & 0.3078916 & 0.7035665 & 0.3192449 \\\\ \nscore & 0.2553191 & 0.5176905 & 0.5164044 & 0.2553096 & 0.8003456 \\\\ \n\\bottomrule\n\\end{longtable}\n\n:::\n:::\n\n\n\n## Conclusion\n\nFor the simplified score, the Intraclass Correlations Coefficients for\nmicrobleed, lacunes, wmh, atrophy and score is\n0.663578226496803, 0.705020920502092, 0.723151204342727, 0.319244904777821 and 0.800345579462708 respectively.\n\nFor reference, the scoring system is included below.\n",
    "supporting": [
      "irr_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "\\usepackage{booktabs}\n\\usepackage{caption}\n\\usepackage{longtable}\n\\usepackage{colortbl}\n\\usepackage{array}\n"
      ]
    },
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}